<head>
  <title>WebDuino</title>
  <script type="text/javascript" src="http://code.highcharts.com/highcharts.js"></script>
  <script type="text/javascript">
	 //  	function addSensor () {
	 //  		var sensorName = $('#sensorName').val();
	 //  		var sensorType = $('#sensorType').val();
	 // 	 	var pins = $("#pins").val();
	 //  		console.log("stuff")
	 //  		$('#sensorTable').prepend("<tr><td>" + sensorName + "</td><td>" + sensorType + "</td><td>" + pins + "</td>");
		// }
	</script>
</head>

<body>
	<div id="container">
		{{> header}}
		{{#if currentUser}}
			{{> projects}}
		{{else}}
			{{> home}}
		{{/if}}
	</div>
</body>

<template name="home">
  <h1>Hello World!</h1>
  {{greeting}}
  <input type="button" value="Click" />
</template>

<template name="header">
	<div id="header">
		{{> loginButtons}}
	</div>
</template>

<template name="projects">
	<div id="your_projects" class="clearfix">
		<h1 style="float: left;" class="">Your Projects</h1>
		<button data-toggle="collapse" href="#addSensor">Add Project</button>
	</div>
	{{> createProject}}
	<div class="panel-group" id="accordion">
		{{#each projects}}
			<div class="panel panel-default">
				<div class="panel-heading">
					<h3 class="panel-title">
						<a data-toggle="collapse" data-parent="#accordion" href="#{{_id}}">{{name}}</a>
					</h3>
				</div>
				<div id="{{_id}}" class="panel-collapse collapse">
					<div class="panel-body 1indent">
						<h4>Sensors: </h4>
							{{#each sensors parent=_id}}
								<h5 class="2indent"><a data-toggle="collapse" href="#{{_id}}">{{name}}</a></h5>
								<div id="{{_id}}" class="panel-collapse collapse">
									<p class="3indent">Sensor Type: {{sensorType}}</p>
									<p class="3indent">Pins: {{pin}}</p>
									<p class="3indent">Last Recieved Data: (TODO)</p>
									<p class="3indent"><a data-toggle="collapse" href="#{{_id}}data">Data</a></p>
								</div>
							{{/each}}

					</div>
				</div>
			</div>
		{{/each}}
	</div>
</template>

<template name="createProject">
	<div id="addSensor" class="panel-collapse collapse control-group">
		
		<form class="form-horizontal">
   			<div class="control-group span6">
      		<label class="control-label" for="project_name">Please input a project name: </label>
	      		<div class="controls">
	        		<input type="text" id="project_name" placeholder="Project Name">
	      		</div>
    		</div>
    		<button id="check_name">Check Name</button>

    	</form>

<!-- 		<input type="text" name="projectName" id="project_name" class="span6" placeholder="Project Name">  
		<button id="check_name">Check Name</button> -->

<!-- 		<table id="sensorTable">
			<tr>
				<td><input type="text" name="sensorName" id="sensorName" placeholder="Sensor Name"></td>
				<td><select class="form-control" id="sensorType" name="sensorType">
					<option>Potentiometer</option>
					<option>Accelerometer</option>
				</select></td>
				<td><input type="text" name="pins" id="pins" placeholder="Pins (Ex. 1 2 3)"></td>
				<td><button onclick="addSensor()">Add Sensor</button></td>
			</tr>
			{{#each sensorArray}}
			<tr>
				<td>{{sensorName}}</td><td>{{sensorType}}</td><td>sensorPins</td>
			</tr>
			{{/each}}
		</table> -->
	</div>
</template>